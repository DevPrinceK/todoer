{% extends "base.html" %}

{% block title %}Todos{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center">Your Todos</h2>

    <table class="table table-hover mt-3">
        <thead>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Due</th>
                <th scope="col">Status</th>
                <th scope="col" class="text-end">Actions</th>
            </tr>
        </thead>
        <tbody>
           {% if todos %}
           {% for todo in todos %}
           <tr>
               <td>{{ todo.title }}</td>
               <td>{{ todo.duedate }}</td>
               <td>
                   {% if todo.sts == "Completed" %}
                       <span class="badge bg-success">Completed</span>
                   {% else %}
                       <span class="badge bg-warning">Pending</span>
                   {% endif %}
               </td>
               <td class="text-end">
                   <a href="{{ url_for('todo.update', id=todo['id']) }}" class="btn btn-sm btn-warning">Edit</a>
                   <form action="{{ url_for('todo.delete', id=todo['id']) }}" method="POST" style="display: inline;">
                       <input class="btn btn-sm btn-danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');">
                   </form>
                   <!-- <a href="" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?');">Delete</a> -->
               </td>
           </tr>
           {% endfor %}
           {% else %}
            <tr>
                <td colspan="4" class="text-center">No Todos Found</td>
            </tr>
           {% endif %}
        </tbody>
    </table>
    
    <div class="d-flex justify-content-end mt-4">
        <a href="{{ url_for('todo.create') }}" class="btn btn-primary">Add New Todo</a>
    </div>
</div>
{% endblock %}
